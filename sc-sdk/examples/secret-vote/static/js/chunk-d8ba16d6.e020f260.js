(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8ba16d6"],{"0b42":function(t,e,o){var n=o("da84"),s=o("e8b5"),r=o("68ee"),i=o("861d"),a=o("b622"),c=a("species"),u=n.Array;t.exports=function(t){var e;return s(t)&&(e=t.constructor,r(e)&&(e===u||s(e.prototype))?e=void 0:i(e)&&(e=e[c],null===e&&(e=void 0))),void 0===e?u:e}},"159b":function(t,e,o){var n=o("da84"),s=o("fdbc"),r=o("785a"),i=o("17c2"),a=o("9112"),c=function(t){if(t&&t.forEach!==i)try{a(t,"forEach",i)}catch(e){t.forEach=i}};for(var u in s)s[u]&&c(n[u]&&n[u].prototype);c(r)},"17c2":function(t,e,o){"use strict";var n=o("b727").forEach,s=o("a640"),r=s("forEach");t.exports=r?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"29ce":function(t,e,o){"use strict";o("f1e0")},"65f0":function(t,e,o){var n=o("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},7258:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vote-view"},[o("div",{staticClass:"top-nav"},[t._m(0),o("div",{staticClass:"nav-right-part"},[o("div",{staticClass:"show-username"},[t._v(t._s(t.userInfo.username))]),o("div",{staticClass:"sep"}),o("div",{staticClass:"logout",attrs:{title:"退出登录"},on:{click:function(e){return t.handleLogout()}}})])]),o("div",{staticClass:"vote-info"},[o("div",{staticClass:"vote-title"},[t._v(t._s(t.voteTitle))]),o("div",{staticClass:"vote-detail"},[t._v(t._s(t.voteDetail))])]),o("div",{staticClass:"color-sep"},[t.showVoteErrorInfo?o("el-alert",{staticClass:"vote-error-info",attrs:{title:t.voteErrorText,type:"warning","show-icon":""}}):t._e()],1),t.voteStatus?t._e():o("el-radio-group",{staticClass:"vote-radio-group",model:{value:t.voteSelectId,callback:function(e){t.voteSelectId=e},expression:"voteSelectId"}},t._l(t.voteOption,(function(e){return o("el-radio",{key:e.vote_id,attrs:{label:e.vote_id,border:""}},[t._v(t._s(e.vote_opt_message))])})),1),t.voteStatus?o("ul",{staticClass:"show-vote-result"},t._l(t.voteOption,(function(e){return o("li",{key:e.option_id,staticClass:"result-item"},[o("div",{staticClass:"mask",style:{width:t.percentWidth(e.votes_number)}}),o("div",{staticClass:"vote-message"},[t._v(t._s(e.vote_opt_message))]),o("div",{staticClass:"right-part"},[t._v(" "+t._s(e.votes_number+"("+Math.round(e.votes_number/t.voteCount*1e4)/100+"%)")+" ")])])})),0):t._e(),t.voteStatus?t._e():o("el-button",{staticClass:"vote-button",class:""!==t.voteSelectId?"":"disable-button",attrs:{title:""!==t.voteSelectId?"":"请选择一个选项"},on:{click:function(e){return t.handleVote()}}},[t._v("投票")]),t.voteStatus?o("div",{staticClass:"vote-sum"},[t._v("现有"+t._s(t.voteCount)+"人参与投票")]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[t._v(" 匿名投票应用 "),o("a",{attrs:{href:"https://gitee.com/kunpengcompute/devkitdemo/tree/main/sc-sdk/examples/secret-vote",target:"_blank",rel:"noopener noreferrer"}},[t._v("查看说明文档")])])}],r=(o("d3b7"),o("159b"),o("5f87")),i=o("0bc2"),a=o("5c96"),c={name:"VoteView",data:function(){return{voteStatus:!1,voteSelectId:"",voteTitle:"",voteDetail:"",showVoteErrorInfo:!1,voteErrorText:"",voteOption:[]}},created:function(){this.getVoteInfo()},computed:{userInfo:function(){return Object(r["b"])()||{}},voteCount:function(){var t=0;return this.voteOption.forEach((function(e){t+=e.votes_number})),t}},methods:{getVoteInfo:function(){var t=this;Object(i["d"])().then((function(e){var o=e.data.data;t.voteStatus=o.vote_status,t.voteOption=o.vote_info_list,t.voteTitle=o.vote_title,t.voteDetail=o.vote_sub_title}))},handleLogout:function(){var t=this;Object(i["b"])().then((function(e){var o=e.status,n=e.data;200===o&&(Object(r["c"])(),Object(r["d"])(),t.$router.push("/login"),Object(a["Message"])({type:"success",showClose:!0,duration:3e3,message:n.info_chinese,offset:84}))}))},handleVote:function(){var t=this;if(""!==this.voteSelectId){var e={id:this.userInfo.id,vote_id:this.voteSelectId};Object(i["c"])(e).then((function(){t.getVoteInfo()})).catch((function(e){var o=e.response.data;t.showVoteErrorInfo=!0,t.voteErrorText=o.info_chinese,t.getVoteInfo()}))}},percentWidth:function(t){var e=596,o=Math.round(t/this.voteCount*1e4)/1e4*e;return o+"px"}}},u=c,v=(o("29ce"),o("2877")),l=Object(v["a"])(u,n,s,!1,null,"73f8c34a",null);e["default"]=l.exports},a640:function(t,e,o){"use strict";var n=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&n((function(){o.call(null,e||function(){return 1},1)}))}},b727:function(t,e,o){var n=o("0366"),s=o("e330"),r=o("44ad"),i=o("7b0b"),a=o("07fa"),c=o("65f0"),u=s([].push),v=function(t){var e=1==t,o=2==t,s=3==t,v=4==t,l=6==t,f=7==t,d=5==t||l;return function(h,_,p,b){for(var m,C,g=i(h),w=r(g),I=n(_,p),E=a(w),x=0,S=b||c,k=e?S(h,E):o||f?S(h,0):void 0;E>x;x++)if((d||x in w)&&(m=w[x],C=I(m,x,g),t))if(e)k[x]=C;else if(C)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:u(k,m)}else switch(t){case 4:return!1;case 7:u(k,m)}return l?-1:s||v?v:k}};t.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},e8b5:function(t,e,o){var n=o("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},f1e0:function(t,e,o){}}]);
//# sourceMappingURL=chunk-d8ba16d6.e020f260.js.map